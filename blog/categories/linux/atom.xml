<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: linux | Geekheads]]></title>
  <link href="http://www.geekheads.net/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://www.geekheads.net/"/>
  <updated>2013-07-07T21:20:21-05:00</updated>
  <id>http://www.geekheads.net/</id>
  <author>
    <name><![CDATA[Jack Lund]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Zeroconf Rocks!]]></title>
    <link href="http://www.geekheads.net/blog/2013/06/27/Zeroconf-Rocks/"/>
    <updated>2013-06-27T22:27:00-05:00</updated>
    <id>http://www.geekheads.net/blog/2013/06/27/Zeroconf-Rocks</id>
    <content type="html"><![CDATA[<p>I have a lot of computers on my network now &ndash; my laptop and desktop, my wife&rsquo;s 3(!) computers, her iPad, two Linux servers and miscellaneous other devices, along with my Raspberry Pi and two BeagleBone Blacks, so managing all these was starting to be a pain. So, just on a hunch, I wanted to see if <a href="http://en.wikipedia.org/wiki/Zero-configuration_networking">Bonjour/Zeroconf/Avahi</a> could help. I did some investigation, and it turns out that you can access any machines that advertise on Zeroconf by <em>name</em>.local. Since I work predominantly on Macs, I was already pretty comfortable with the idea of dynamically finding service. When I brought up my Bonjour Browser application, however, I was surprised: My two BeagleBone Blacks were already advertising (the wrong IP address for my network, but still)!</p>

<p>So, first step: set up the Raspberry Pi to do the same. Fortunately, the Internet came to the rescue, in the form of <a href="http://elinux.org/RPi_Advanced_Setup">this page</a> about setting up Zeroconf on the Pi. I just followed the instructions, and it worked.</p>

<p>Next, I had to fix my BeagleBone Blacks. To do this, I found the DHCP daemon config file, <code>/etc/udhcpd.conf</code>, which looked like this:</p>

<pre><code>start      192.168.7.1
end        192.168.7.1
interface  usb0
max_leases 1
option subnet 255.255.255.252
</code></pre>

<p>and which I changed to match my network:</p>

<pre><code>start      192.168.1.2
end        192.168.1.99
interface  usb0
max_leases 1
option subnet 255.255.255.0
</code></pre>

<p>Then, I just restarted them, and they suddenly had the right IP addresses.</p>

<p>Now, all I have to do to SSH into my Pi is do <code>ssh raspberry-pi.local</code>. For my BeagleBones, it would be <code>ssh beaglebone-red.local</code> or <code>ssh beaglebone-blue.local</code>.</p>

<p>W00t!!!!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setting up NTP on BeagleBone Black]]></title>
    <link href="http://www.geekheads.net/blog/2013/06/10/Setting-up-NTP-on-BeagleBone-Black/"/>
    <updated>2013-06-10T11:50:00-05:00</updated>
    <id>http://www.geekheads.net/blog/2013/06/10/Setting-up-NTP-on-BeagleBone-Black</id>
    <content type="html"><![CDATA[<p>For some reason, they didn&rsquo;t seem to see the need to set up the time service on the BeagleBone Blacks by default. I tried using the instructions from <a href="http://derekmolloy.ie/automatically-setting-the-beaglebone-black-time-using-ntp/">this gentleman</a>, but I had to make some modifications.</p>

<ol>
<li>Install NTP</li>
</ol>


<p>```bash</p>

<pre><code>    $ opkg update &amp;&amp; opkg install ntp
</code></pre>

<p>```</p>

<ol>
<li>Edit <code>/etc/ntp.conf</code>, adding <code>pool.ntp.org</code> as the server:</li>
</ol>


<p>```apache</p>

<pre><code>    # This is the most basic ntp configuration file
    # The driftfile must remain in a place specific to this
    # machine - it records the machine specific clock error
    driftfile /etc/ntp.drift
    # This obtains a random server which will be close
    # (in IP terms) to the machine.  Add other servers
    # as required, or change this.
    server pool.ntp.org
    # Using local hardware clock as fallback
    # Disable this when using ntpd -q -g -x as ntpdate or it will sync to itself
    server 127.127.1.0
    fudge 127.127.1.0 stratum 14
    # Defining a default security setting
    restrict default
</code></pre>

<p>```</p>

<ol>
<li>Set your local time:</li>
</ol>


<p>```bash</p>

<pre><code>    $ cd /etc
    $ rm -f localtime
    $ ln -s ../usr/share/zoneinfo/America/Chicago localtime
</code></pre>

<p>```</p>

<ol>
<li>Edit <code>/etc/default/ntpdate</code>:</li>
</ol>


<p>```apache</p>

<pre><code>    # Configuration script used by ntpdate-sync script

    NTPSERVERS="pool.ntp.org"

    # Set to "yes" to write time to hardware clock on success
    UPDATE_HWCLOCK="yes"
</code></pre>

<p>```</p>

<ol>
<li>Now, reboot and see if the clock gets set correctly</li>
</ol>

]]></content>
  </entry>
  
</feed>
