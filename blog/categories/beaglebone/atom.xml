<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: beaglebone | Geekheads]]></title>
  <link href="http://www.geekheads.net/blog/categories/beaglebone/atom.xml" rel="self"/>
  <link href="http://www.geekheads.net/"/>
  <updated>2013-07-07T21:20:21-05:00</updated>
  <id>http://www.geekheads.net/</id>
  <author>
    <name><![CDATA[Jack Lund]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Setting up NTP on BeagleBone Black]]></title>
    <link href="http://www.geekheads.net/blog/2013/06/10/Setting-up-NTP-on-BeagleBone-Black/"/>
    <updated>2013-06-10T11:50:00-05:00</updated>
    <id>http://www.geekheads.net/blog/2013/06/10/Setting-up-NTP-on-BeagleBone-Black</id>
    <content type="html"><![CDATA[<p>For some reason, they didn&rsquo;t seem to see the need to set up the time service on the BeagleBone Blacks by default. I tried using the instructions from <a href="http://derekmolloy.ie/automatically-setting-the-beaglebone-black-time-using-ntp/">this gentleman</a>, but I had to make some modifications.</p>

<ol>
<li>Install NTP</li>
</ol>


<p>```bash</p>

<pre><code>    $ opkg update &amp;&amp; opkg install ntp
</code></pre>

<p>```</p>

<ol>
<li>Edit <code>/etc/ntp.conf</code>, adding <code>pool.ntp.org</code> as the server:</li>
</ol>


<p>```apache</p>

<pre><code>    # This is the most basic ntp configuration file
    # The driftfile must remain in a place specific to this
    # machine - it records the machine specific clock error
    driftfile /etc/ntp.drift
    # This obtains a random server which will be close
    # (in IP terms) to the machine.  Add other servers
    # as required, or change this.
    server pool.ntp.org
    # Using local hardware clock as fallback
    # Disable this when using ntpd -q -g -x as ntpdate or it will sync to itself
    server 127.127.1.0
    fudge 127.127.1.0 stratum 14
    # Defining a default security setting
    restrict default
</code></pre>

<p>```</p>

<ol>
<li>Set your local time:</li>
</ol>


<p>```bash</p>

<pre><code>    $ cd /etc
    $ rm -f localtime
    $ ln -s ../usr/share/zoneinfo/America/Chicago localtime
</code></pre>

<p>```</p>

<ol>
<li>Edit <code>/etc/default/ntpdate</code>:</li>
</ol>


<p>```apache</p>

<pre><code>    # Configuration script used by ntpdate-sync script

    NTPSERVERS="pool.ntp.org"

    # Set to "yes" to write time to hardware clock on success
    UPDATE_HWCLOCK="yes"
</code></pre>

<p>```</p>

<ol>
<li>Now, reboot and see if the clock gets set correctly</li>
</ol>

]]></content>
  </entry>
  
</feed>
