
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Getting Jenkins on Windows Working with Git - Everything Is Code</title>
  <meta name="author" content="Jack Lund">

  
  <meta name="description" content="We&rsquo;re transitioning, as a company, from Subversion to Git, which is a Good Thing, but has its complications. One of them was getting Jenkins, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jacklund.github.io/blog/2013/05/06/Getting-Jenkins-on-Windows-Working-with-Git">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Everything Is Code" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Everything Is Code</a></h1>
  
    <h2>Coding for Fun and Profit. But Mostly Fun.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jacklund.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Getting Jenkins on Windows Working With Git</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-06T20:46:00-05:00" pubdate data-updated="true">May 6<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>We&rsquo;re transitioning, as a company, from Subversion to Git, which is a Good Thing, but has its complications. One of them was getting <a href="http://jenkins-ci.org/">Jenkins</a>, which we use for <a href="http://en.wikipedia.org/wiki/Continuous_integration">continuous integration</a>, to work with our Git repositories.</p>

<p>I had started out by thinking that I would have to create a user in our repository provider (we&rsquo;re using <a href="http://bitbucket.org">BitBucket</a>) which would have read permisisons to our repositories, a &ldquo;jenkins&rdquo; user. Turns out its not the case. All you need to do for read-only access is to generate SSH keys that you register with the repository, and which Jenkins uses to clone the repository.</p>

<p>On Linux, this would be trivial. On Windows, of course, very little is trivial.</p>

<p>So, following <a href="http://computercamp.cdwilson.us/jenkins-git-clone-via-ssh-on-windows-7-x64">this guide</a>(with some modifications) I managed it this way:</p>

<ol>
<li>Install <a href="http://git-scm.com/downloads">Git</a></li>
<li>Generate the new SSH keys on my local machine using <code>ssh-keygen</code>. Make sure to specify a file <strong>other</strong> than the default (unless you like the idea of overwriting any existing keys you might have).</li>
<li>Install the public key in the repository. In BitBucket, you do this under the account settings for the user or group who owns the repositories. Do it at the user/group level, not at the repository level (unless you want separate keys for each repository). Just cut and paste the contents of the public key to the web page, and click &ldquo;Add&rdquo;</li>
<li>Install <a href="http://technet.microsoft.com/en-us/sysinternals/bb896649.aspx">PsTools</a> (<em>Note</em>: the link given in the guide mentioned above didn&rsquo;t work for me). Extract the zip file wherever you want (I put mine in the root dir)</li>
<li>Run the following in a command shell <em>running as administrator</em>: <code>\PsTools\PsExec.exe -i -s cmd.exe</code> (<em>Note:</em> the guide says use a normal shell, but that will fail the first time, because it tries to instal something that needs Admin privileges). To do this, find the command shell icon in the menu, right-click, and select <em>Run as Administrator&hellip;</em>.</li>
<li>Do <code>echo %USERPROFILE%</code> in the shell to find out where the system user (and, hence, Jenkins) runs from as its home directory. Mine turned out to be <code>C:\Windows\system32\config\systemprofile</code>. YMMV.</li>
<li>Make a folder named <code>.ssh</code> in that home directory</li>
<li>Copy the keys (private and public) to the Windows machine in the <code>.ssh</code> folder</li>
<li>Run <code>"C:\Program Files(x86)\Git\bin\ssh.exe" -T git@bitbucket.org</code> (<em>Note:</em> the location of git on your install may be different than mine). When you get the usual &ldquo;unknown host&rdquo; warning, type &ldquo;yes&rdquo; to get the server key in your known_hosts file</li>
<li>Finally, test git by doing a <code>git ls-remote git@bitbucket.org:repo.git HEAD</code></li>
</ol>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jack Lund</span></span>

      








  


<time datetime="2013-05-06T20:46:00-05:00" pubdate data-updated="true">May 6<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/git/'>git</a>, <a class='category' href='/blog/categories/jenkins/'>jenkins</a>, <a class='category' href='/blog/categories/windows/'>windows</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://jacklund.github.io/blog/2013/05/06/Getting-Jenkins-on-Windows-Working-with-Git/" data-via="" data-counturl="http://jacklund.github.io/blog/2013/05/06/Getting-Jenkins-on-Windows-Working-with-Git/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/04/11/Rethinking-Architecture/" title="Previous Post: Rethinking Architecture">&laquo; Rethinking Architecture</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/05/06/VerifyError-with-JDK-7/" title="Next Post: VerifyError with JDK 7">VerifyError with JDK 7 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/06/18/eclipse-with-subversion-1-dot-8-on-os-x/">Eclipse With Subversion 1.8 on OS X</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/18/moved-to-github-slash-octopress/">Moved to GitHub/Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/13/SELinux-and-SSH/">SELinux and SSH</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/12/Node.js/">Node.js</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/10/Setting-up-NTP-on-BeagleBone-Black/">Setting Up NTP on BeagleBone Black</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/jacklund">@jacklund</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jacklund',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
  <h1>Categories</h1>
    <ul id="category-list"><a href='/blog/categories/apple' style='font-size: 130.0%'>apple</a> <a href='/blog/categories/architecture' style='font-size: 130.0%'>architecture</a> <a href='/blog/categories/arts' style='font-size: 130.0%'>arts</a> <a href='/blog/categories/beaglebone' style='font-size: 160.0%'>beaglebone</a> <a href='/blog/categories/cobertura' style='font-size: 130.0%'>cobertura</a> <a href='/blog/categories/documents' style='font-size: 130.0%'>documents</a> <a href='/blog/categories/eclipse' style='font-size: 160.0%'>eclipse</a> <a href='/blog/categories/eskrima' style='font-size: 130.0%'>eskrima</a> <a href='/blog/categories/git' style='font-size: 160.0%'>git</a> <a href='/blog/categories/github' style='font-size: 130.0%'>github</a> <a href='/blog/categories/hornetq' style='font-size: 130.0%'>hornetq</a> <a href='/blog/categories/java' style='font-size: 160.0%'>java</a> <a href='/blog/categories/jboss' style='font-size: 130.0%'>jboss</a> <a href='/blog/categories/jdk7' style='font-size: 130.0%'>jdk7</a> <a href='/blog/categories/jekyll' style='font-size: 130.0%'>jekyll</a> <a href='/blog/categories/jenkins' style='font-size: 130.0%'>jenkins</a> <a href='/blog/categories/jetty' style='font-size: 130.0%'>jetty</a> <a href='/blog/categories/kafka' style='font-size: 130.0%'>kafka</a> <a href='/blog/categories/latex' style='font-size: 130.0%'>latex</a> <a href='/blog/categories/linux' style='font-size: 160.0%'>linux</a> <a href='/blog/categories/markdown' style='font-size: 130.0%'>markdown</a> <a href='/blog/categories/martial' style='font-size: 130.0%'>martial</a> <a href='/blog/categories/maven' style='font-size: 130.0%'>maven</a> <a href='/blog/categories/node-js' style='font-size: 130.0%'>node.js</a> <a href='/blog/categories/osx' style='font-size: 130.0%'>osx</a> <a href='/blog/categories/pandoc' style='font-size: 130.0%'>pandoc</a> <a href='/blog/categories/rest' style='font-size: 130.0%'>rest</a> <a href='/blog/categories/resteasy' style='font-size: 130.0%'>resteasy</a> <a href='/blog/categories/scalability' style='font-size: 130.0%'>scalability</a> <a href='/blog/categories/scriptogr-am' style='font-size: 130.0%'>scriptogr.am</a> <a href='/blog/categories/selinux' style='font-size: 130.0%'>selinux</a> <a href='/blog/categories/sensortag' style='font-size: 130.0%'>sensortag</a> <a href='/blog/categories/spring' style='font-size: 130.0%'>spring</a> <a href='/blog/categories/ssh' style='font-size: 130.0%'>ssh</a> <a href='/blog/categories/subversion' style='font-size: 130.0%'>subversion</a> <a href='/blog/categories/tomcat' style='font-size: 130.0%'>tomcat</a> <a href='/blog/categories/wifi' style='font-size: 130.0%'>wifi</a> <a href='/blog/categories/windows' style='font-size: 130.0%'>windows</a> <a href='/blog/categories/zookeeper' style='font-size: 130.0%'>zookeeper</a> </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Jack Lund -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
